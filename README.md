# Frontend Dev Setup (webpack)

> Setup for frontend web development and prototyping using webpack.

Built with Vue.js and ES6+. Compiled with Webpack.

For more on Vue.js, check out https://vuejs.org/v2/guide/ to get started. 

For more on webpack, check out https://webpack.js.org/guides/getting-started/ to get started. 

# Installing Dependencies

1. Navigate to the project root and open a terminal from there, for example:

    ```
    /var/www/project-path/
    ```

2. Install with NPM:

    ```bash
    $ npm install
    ```

    For more on Composer, check out https://docs.npmjs.com/ to get started. 

# Developing for Prototyping

1. After installing the dependencies, compile with the following run script:

    ```bash
    $ npm run dev
    ```

2. Access the application at http://localhost:9000/.

# Building for Prototyping

1. After completing the development, compile with the following run script:

    ```bash
    $ npm run build
    ```

2. Purge unused CSS styles:

    ```bash
    $ npm run purge
    ```

3. Access the application at the `/dist/` folder.

# Deploying to GitHub Pages

1. Make sure to commit and push any latest changes to the master branch.

2. Build and deploy:

    ```
    $ npm run build:gh-pages
    $ npm run deploy
    ```
3. Access the pages at `https://<your-github-username>.github.io/<your-repo>/`.

# Developing for WordPress

1. After installing the dependencies, compile with the following run script:

    ```bash
    $ npm run watch
    ```

2. Put the following function in your WordPress theme's functions.php:

    ```
    <?php // functions.php

    add_action( 'wp_enqueue_scripts', function() {
        wp_enqueue_script('dev-style', get_template_directory_uri() . '/assets/dist/js/styles.bundle.js', null, null, null);
        wp_enqueue_script('dev-script', get_template_directory_uri() . '/assets/dist/js/app.bundle.js', null, null, true);
    }
    ```

Notes:

1. JavaScript to be called at the end of body element so that it will load after the rest of the DOM is available to parse.

2. Pass `true` as the fifth argument  (in_footer) for the `wp_enqueue_script` function.

# Building for WordPress

1. After completing the development, compile with the following run script:

    ```bash
    $ npm run build
    ```

2. Purge unused CSS styles:

    ```bash
    $ npm run purge
    ```

3. Put the following function in your WordPress theme's functions.php:

    ```
    <?php // functions.php

    add_action( 'wp_enqueue_scripts', function() {
        # Look for the actual .css file names generated by webpack in /dist/css/
        wp_enqueue_style('built-style-1', get_template_directory_uri() . '/assets/dist/css/style.css', null, null, null);
        wp_enqueue_style('built-style-2', get_template_directory_uri() . '/assets/dist/css/vendors.style.css', 'built-style-1', null, null);

        # Look for the actual .css file names generated by webpack in /dist/js/
        wp_enqueue_script('built-script-1', get_template_directory_uri() . '/assets/dist/js/vendors~script.bundle.js', null, null, true);
        wp_enqueue_script('built-script-2', get_template_directory_uri() . '/assets/dist/js/script.bundle.js', 'built-script-1', null, true);
    }
    ```

Notes:

1. JavaScript to be called at the end of body element so that it will load after the rest of the DOM is available to parse.

2. Pass `true` as the fifth argument  (in_footer) for the `wp_enqueue_script` function.
