# Frontend Dev Setup (webpack)

A setup for frontend web development and prototyping using webpack, Vue.js, and Tailwind CSS.

For more on webpack, check out https://webpack.js.org/guides/getting-started/ to get started. 

For more on Vue.js, check out https://vuejs.org/v2/guide/ to get started. 

For more on Tailwind CSS, check out https://tailwindcss.com/docs to get started. 

# Installing Dependencies

1. Navigate to the project root and open a terminal from there, for example:

    ```
    /var/www/project-path/
    ```

2. Install with NPM:

    ```bash
    $ npm install
    ```

    For more on Composer, check out https://docs.npmjs.com/ to get started. 

# Developing for Prototyping

1. After installing the dependencies, compile with the following run script:

    ```bash
    $ npm run dev
    ```

2. Access the dev pages at http://localhost:9000/ as follows:

    * http://localhost:9000/ for the Home page

    * http://localhost:9000/about.html for the About page

    Then start developing the rest of pages following these two preceding examples.

# Building for Prototyping

1. After completing the development, compile with the following run script:

    ```bash
    $ npm run build
    ```

2. Purge unused CSS styles:

    ```bash
    $ npm run purge
    ```

3. Access the application at the `/dist/` folder.

# Deploying to GitHub Pages

1. Make sure to commit and push any latest changes to the master branch.

2. Build and deploy:

    ```
    $ npm run build:gh-pages
    $ npm run deploy
    ```
3. Access the pages at `https://<your-github-username>.github.io/<your-repo>/`.

# Developing for WordPress

1. After installing the dependencies, compile with the following run script:

    ```bash
    $ npm run watch
    ```

2. Put the following function in your WordPress theme's functions.php:

    ```
    <?php // functions.php

    add_action( 'wp_enqueue_scripts', function() {
        wp_enqueue_script('dev-style', get_template_directory_uri() . '/assets/dist/js/styles.bundle.js', null, null, null);
        wp_enqueue_script('dev-script', get_template_directory_uri() . '/assets/dist/js/app.bundle.js', null, null, true);
    }
    ```

Notes:

1. JavaScript to be called at the end of body element so that it will load after the rest of the DOM is available to parse.

2. Pass `true` as the fifth argument  (in_footer) for the `wp_enqueue_script` function.

# Building for WordPress

1. After completing the development, compile with the following run script:

    ```bash
    $ npm run build
    ```

2. Purge unused CSS styles:

    ```bash
    $ npm run purge
    ```

3. Put the following function in your WordPress theme's functions.php:

    ```
    <?php // functions.php

    add_action( 'wp_enqueue_scripts', function() {
        # Look for the actual .css file names generated by webpack in /dist/css/
        wp_enqueue_style('built-style-1', get_template_directory_uri() . '/assets/dist/css/style.css', null, null, null);
        wp_enqueue_style('built-style-2', get_template_directory_uri() . '/assets/dist/css/vendors.style.css', 'built-style-1', null, null);

        # Look for the actual .css file names generated by webpack in /dist/js/
        wp_enqueue_script('built-script-1', get_template_directory_uri() . '/assets/dist/js/vendors~script.bundle.js', null, null, true);
        wp_enqueue_script('built-script-2', get_template_directory_uri() . '/assets/dist/js/script.bundle.js', 'built-script-1', null, true);
    }
    ```

Notes:

1. JavaScript to be called at the end of body element so that it will load after the rest of the DOM is available to parse.

2. Pass `true` as the fifth argument  (in_footer) for the `wp_enqueue_script` function.

# Notes

1. Use the `/src/assets/images/` folder for images that you want to be processed by webpack. Then in your HTML tags, just use `~assets/images/` to request your images, for example:
    
    ```
    <img src="~assets/images/greg-rakozy-oMpAz-DN-9I-unsplash.jpg">
    ```

2. Use the `/public/static/` folder for images that you do NOT want to be processed by webpack. Then in your HTML tags, just use `static/` or '/static/' to request your images, for example:

    ```
    <p><img src="static/sample-2.jpg"></p>
    <p><img src="/static/sample-3.jpg"></p>
    ```

    However, if you want to process the images inside the `/public/static/` folder, then in your HTML tags, use `~static/` to request your images, for example:

    ```
    <img src="~static/sample-1.jpg">
    ```
